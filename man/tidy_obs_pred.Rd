% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tidy.R
\name{tidy_obs_pred}
\alias{tidy_obs_pred}
\title{Tidy observed, predicted, and residual diagnostics}
\usage{
tidy_obs_pred(fit, add_osa_res = FALSE, ...)
}
\arguments{
\item{fit}{A fitted TAM object as returned by \code{\link[=fit_tam]{fit_tam()}}.}

\item{add_osa_res}{Logical; add one-step-ahead residuals? Hard wired to
apply the \code{"oneStepGaussianOffMode"} method.
See \code{\link[RTMB:OSA-residuals]{RTMB::oneStepPredict()}} for details.}

\item{...}{Arguments to pass to \code{\link[RTMB:OSA-residuals]{RTMB::oneStepPredict()}}.}
}
\value{
A named list with two data frames:
\itemize{
\item \strong{catch}: original columns plus \code{pred}, \code{sd}, and \code{std_res}.
\item \strong{index}: original columns plus \code{pred}, \code{sd}, \code{q}, and \code{std_res}.
}
}
\description{
Extracts observations, predictions, and standard errors for \code{catch} and \code{index}
from a fitted TAM object, and adds standardized residuals on the log scale.
}
\examples{
fit <- fit_tam(
  cod_obs,
  years = 1983:2024,
  ages = 2:14,
  N_settings = list(process = "iid", init_N0 = FALSE),
  F_settings = list(process = "approx_rw", mu_form = NULL),
  M_settings = list(process = "off", assumption = ~ I(0.3)),
  obs_settings = list(sd_catch_form = ~ 1, sd_index_form = ~ 1, q_form = ~ q_block),
  silent = TRUE
)
obs_pred <- tidy_obs_pred(fit)
head(obs_pred$catch)
head(obs_pred$index)

}
\seealso{
\code{\link[=fit_tam]{fit_tam()}}, \code{\link[=tidy_rep]{tidy_rep()}}, \code{\link[=tidy_sdrep]{tidy_sdrep()}}, \code{\link[=tidy_pop]{tidy_pop()}}
}
